<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="../../assets/resalalogo.jpg" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
        integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="../../CSS/Bootstrap/bootstrap.css">
    <link rel="stylesheet" href="../../CSS/home.css">
    <title>Committees Menu</title>
</head>

<body>
    <div class="wrapper">

        <h1 id="tit">Resala Tanfezy Committees</h1>
        <!-- ======================= Cards ================== -->
        <div class="container">
            <div class="cardBox" style="display:flex;justify-content: center;">
                <div class="carddd">
                    <div>
                        <div class="numbers" id="total">1,504</div>
                        <div class="cardName">Total point</div>
                    </div>

                    <div class="iconBx">
                        <ion-icon name="analytics-outline"></ion-icon>
                    </div>
                </div>
            </div>
        </div>
         <div class="chartsBx">
            <div id="chart_div" class="chart" style="height: 500px; width: 900px;"></div>
        </div>
        <div class="chartsBx">
            <div id="chart_div2" class="chart" style="height: 500px; width: 900px;"></div>
        </div>
        <div class="container">
            <!-- <div class="container text-center">
                <div class="row justify-content-center"> -->
           
            <!-- </div>
            </div> -->
            
            <div class="box">
                <img src="../../assets/Exhibitions.jpg" alt="">
                <h3>المعارض</h3>
                <div>
                    <p id="exh"></p>
                </div>
                <a id="exheb" class="btn">اضغط هنا</a>
            </div>
            <div class="box">
                <img src="../../assets/feeding.jpg" alt="">
                <h3> لجنة الإطعام</h3>
                
                <div>
                    <p id="feeding"></p>
                </div>

                <a id="feed" class="btn">اضغط هنا</a>
            </div>
            <div class="box">
                <img src="../../assets/clothes.jpg" alt="">
                <h3>الفرق</h3>
               

                <div>
                    <p id="team"></p>
                </div>
                <a id="feraq" class="btn">اضغط هنا</a>
            </div>
            
            <div class="box">
                <img src="../../assets/Charity Market.jpeg" alt="">
                <h3>لجنة السوق الخيري</h3>
               
                <div>
                    <p id="market"></p>
                </div>
                <a id="souq"  class="btn">اضغط هنا</a>
            </div>

            <div class="box">
                <img src="../../assets/Reconstruction.png" alt="">
                <h3>لجنة الإعمار</h3>
                
                <div>
                    <p id="rec"></p>
                </div>
                <a id="e3mar" class="btn">اضغط هنا</a>
            </div>

            
        </div>
    </div>
    <div class="wrapper">
    <div class="container">
        <!-- المعادى -->              
                <div>
                    <p id="totalMaadi"></p>
                </div>
                <div>
                    <p id="totalMohandessin"></p>
                </div>
                
                <div>
                    <p id="totalnaser-city"></p>
                </div>

                <div>
                    <p id="totalnew-cairo"></p>
                </div>
                
                <div>
                    <p id="totalalex"></p>
                </div>              
                <div>
                    <p id="totalFaisal"></p>
                </div>
                <div>
                    <p id="totalHelwan"></p>
                </div>              
                <div>
                    <p id="totalMokattam"></p>
                </div>
                <div>
                    <p id="totalOctober"></p>
                </div>
            </div>
    </div>
</body>
<!-- ====== ionicons ======= -->
<script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
<script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
<script src="../../JS/js/bootstrap.js"></script>
<script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
<script src="../../JS/main.js"></script>
<script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-app.js";
    import { getDatabase, ref, set, get, child } from "https://www.gstatic.com/firebasejs/10.4.0/firebase-database.js";
    // Your web app's Firebase configuration
    const firebaseConfig = {
        apiKey: "AIzaSyC7oeKjthByrRm6EoF0gl5wjY528j4aWMM",
        authDomain: "resala-cup.firebaseapp.com",
        databaseURL: "https://resala-cup-default-rtdb.firebaseio.com",
        projectId: "resala-cup",
        storageBucket: "resala-cup.appspot.com",
        messagingSenderId: "920754872696",
        appId: "1:920754872696:web:18b4329eaf69d2dd8ee88d"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const db = getDatabase(app);
    document.getElementById("tit").textContent = "Resala Tanfezy Committees "

    const dbRef = ref(db);
   

    
var totalPoints = [];
    var totalPointSum = 0;

    function retrieveTotalPoint(bran, childPath, index) {
        return new Promise((resolve, reject) => {
            get(child(dbRef, `branches/${bran}/${childPath}/totalPoint`))
                .then((snapshot) => {
                    if (snapshot.exists()) {
                        console.log(snapshot.val());
                        totalPoints[index] = snapshot.val();
                        resolve();
                    } else {
                        console.log("No data available");
                        reject();
                    }
                })
                .catch((error) => {
                    console.error(error);
                    reject();
                });
        });
    }

    Promise.all([
        retrieveTotalPoint("maadi", "Exhibitions", 0),
        retrieveTotalPoint("maadi", "MarketCommittee", 1),
        retrieveTotalPoint("maadi", "feeding", 2),
        retrieveTotalPoint("maadi", "reconstruction", 3),
        retrieveTotalPoint("maadi", "team", 4),
    ])
        .then(() => {
            calculateTotalPointSum("maadi", "totalMaadi", 0);

        })
        .catch(() => {
            console.log("Error occurred while retrieving totalPoint values");
        });

    function calculateTotalPointSum(bran, idtext, totalPointSum) {
        totalPointSum = totalPoints.reduce((sum, point) => sum + point, 0);

        // Retrieve plus-minus values
        var bonusTotalPromise = get(child(dbRef, `branches/${bran}/plus-minus/Bonustotal`));
        var minusTotalPromise = get(child(dbRef, `branches/${bran}/plus-minus/minustotal`));

        Promise.all([bonusTotalPromise, minusTotalPromise])
            .then((snapshots) => {
                var bonusTotal = snapshots[0].exists() ? snapshots[0].val() : 0;
                var minusTotal = snapshots[1].exists() ? snapshots[1].val() : 0;

                var finalTotal = (totalPointSum + bonusTotal - minusTotal);
                console.log("Final Total: " + finalTotal);

                // Update HTML elements
                //document.getElementById(idtext).textContent = "Total: " + finalTotal;
                const updates = {};
                update[`branches/${bran}/totalpoint`] = parseInt(finalTotal);
                // Do further processing with the finalTotal value
            })
            .catch((error) => {
                console.error(error);
            });
    }

    Promise.all([
        retrieveTotalPoint("Mohandessin", "Exhibitions", 0),
        retrieveTotalPoint("Mohandessin", "MarketCommittee", 1),
        retrieveTotalPoint("Mohandessin", "feeding", 2),
        retrieveTotalPoint("Mohandessin", "reconstruction", 3),
        retrieveTotalPoint("Mohandessin", "team", 4),
    ])
        .then(() => {
            totalPointSum = 0
            calculateTotalPointSum("Mohandessin", "totalMohandessin", 0);
        })
        .catch(() => {
            console.log("Error occurred while retrieving totalPoint values");
        });


    Promise.all([
        retrieveTotalPoint("naser city", "Exhibitions", 0),
        retrieveTotalPoint("naser city", "MarketCommittee",1),
        retrieveTotalPoint("naser city", "feeding", 2),
        retrieveTotalPoint("naser city", "reconstruction", 3),
        retrieveTotalPoint("naser city", "team", 4),
    ])
        .then(() => {

            calculateTotalPointSum("naser city", "totalnaser-city", 0);
        })
        .catch(() => {
            console.log("Error occurred while retrieving totalPoint values");
        });



    Promise.all([
        retrieveTotalPoint("new cairo", "Exhibitions", 0),
        retrieveTotalPoint("new cairo", "MarketCommittee", 1),
        retrieveTotalPoint("new cairo", "feeding", 2),
        retrieveTotalPoint("new cairo", "reconstruction", 3),
        retrieveTotalPoint("new cairo", "team", 4),
    ])
        .then(() => {
            calculateTotalPointSum("new cairo", "totalnew-cairo");
        })
        .catch(() => {
            console.log("Error occurred while retrieving totalPoint values");
        });

    Promise.all([
        retrieveTotalPoint("alex", "Exhibitions", 0),
        retrieveTotalPoint("alex", "MarketCommittee", 1),
        retrieveTotalPoint("alex", "feeding", 2),
        retrieveTotalPoint("alex", "reconstruction", 3),
        retrieveTotalPoint("alex", "team", 4),
    ])
        .then(() => {
            calculateTotalPointSum("alex", "totalalex", 0);
        })
        .catch(() => {
            console.log("Error occurred while retrieving totalPoint values");
        });

    Promise.all([
        retrieveTotalPoint("Faisal", "Exhibitions", 0),
        retrieveTotalPoint("Faisal", "MarketCommittee", 1),
        retrieveTotalPoint("Faisal", "feeding", 2),
        retrieveTotalPoint("Faisal", "reconstruction", 3),
        retrieveTotalPoint("Faisal", "team", 4),
    ])
        .then(() => {
            calculateTotalPointSum("Faisal", "totalFaisal", 0);
        })
        .catch(() => {
            console.log("Error occurred while retrieving totalPoint values");
        });

    Promise.all([
        retrieveTotalPoint("Helwan", "Exhibitions", 0),
        retrieveTotalPoint("Helwan", "MarketCommittee", 1),
        retrieveTotalPoint("Helwan", "feeding", 2),
        retrieveTotalPoint("Helwan", "reconstruction", 3),
        retrieveTotalPoint("Helwan", "team", 4),
    ])
        .then(() => {
            calculateTotalPointSum("Helwan", "totalHelwan", 0);
        })
        .catch(() => {
            console.log("Error occurred while retrieving totalPoint values");
        });

    Promise.all([
        retrieveTotalPoint("El Mokattam", "Exhibitions", 0),
        retrieveTotalPoint("El Mokattam", "MarketCommittee", 1),
        retrieveTotalPoint("El Mokattam", "feeding", 2),
        retrieveTotalPoint("El Mokattam", "reconstruction", 3),
        retrieveTotalPoint("El Mokattam", "team", 4),
    ])
        .then(() => {
            calculateTotalPointSum("El Mokattam", "totalMokattam", 0);
        })
        .catch(() => {
            console.log("Error occurred while retrieving totalPoint values");
        });

    Promise.all([
        retrieveTotalPoint("October", "Exhibitions", 0),
        retrieveTotalPoint("October", "MarketCommittee",1),
        retrieveTotalPoint("October", "feeding", 2),
        retrieveTotalPoint("October", "reconstruction", 3),
        retrieveTotalPoint("October", "team", 4),
    ])
        .then(() => {
            calculateTotalPointSum("October", "totalOctober", 0);
        })
        .catch(() => {
            console.log("Error occurred while retrieving totalPoint values");
        });

    google.charts.load('current', { packages: ['corechart', 'bar'] });
    google.charts.setOnLoadCallback(init);

    function init() {
        // Your existing code here, including the code that calls drawLineChart
        var exhibitionsmaadiPromise = get(child(dbRef, `branches/maadi/Exhibitions/totalPoint`));
        var MarketmaadiPromise = get(child(dbRef, `branches/maadi/MarketCommittee/totalPoint`));
        var feedingmaadiPromise = get(child(dbRef, `branches/maadi/feeding/totalPoint`));
        var reconstructionmaadiPromise = get(child(dbRef, `branches/maadi/reconstruction/totalPoint`));
        var teammaadiPromise = get(child(dbRef, `branches/maadi/team/totalPoint`));
        
        var exhibitionsMohandessinPromise = get(child(dbRef, `branches/Mohandessin/Exhibitions/totalPoint`));
        var MarketMohandessinPromise = get(child(dbRef, `branches/Mohandessin/MarketCommittee/totalPoint`));
        var feedingMohandessinPromise = get(child(dbRef, `branches/Mohandessin/feeding/totalPoint`));
        var reconstructionMohandessinPromise = get(child(dbRef, `branches/Mohandessin/reconstruction/totalPoint`));
        var teamMohandessinPromise = get(child(dbRef, `branches/Mohandessin/team/totalPoint`));
        
        var exhibitionsalexPromise = get(child(dbRef, `branches/alex/Exhibitions/totalPoint`));
        var MarketalexPromise = get(child(dbRef, `branches/alex/MarketCommittee/totalPoint`));
        var feedingalexPromise = get(child(dbRef, `branches/alex/feeding/totalPoint`));
        var reconstructionalexPromise = get(child(dbRef, `branches/alex/reconstruction/totalPoint`));
        var teamalexPromise = get(child(dbRef, `branches/alex/team/totalPoint`));
        
        var exhibitionsFaisalPromise = get(child(dbRef, `branches/Faisal/Exhibitions/totalPoint`));
        var MarketFaisalPromise = get(child(dbRef, `branches/Faisal/MarketCommittee/totalPoint`));
        var feedingFaisalPromise = get(child(dbRef, `branches/Faisal/feeding/totalPoint`));
        var reconstructionFaisalPromise = get(child(dbRef, `branches/Faisal/reconstruction/totalPoint`));
        var teamFaisalPromise = get(child(dbRef, `branches/Faisal/team/totalPoint`));
        
        var exhibitionsHelwanPromise = get(child(dbRef, `branches/Helwan/Exhibitions/totalPoint`));
        var MarketHelwanPromise = get(child(dbRef, `branches/Helwan/MarketCommittee/totalPoint`));
        var feedingHelwanPromise = get(child(dbRef, `branches/Helwan/feeding/totalPoint`));
        var reconstructionHelwanPromise = get(child(dbRef, `branches/Helwan/reconstruction/totalPoint`));
        var teamHelwanPromise = get(child(dbRef, `branches/Helwan/team/totalPoint`));
        
        var exhibitionsMokattamPromise = get(child(dbRef, `branches/El Mokattam/Exhibitions/totalPoint`));
        var MarketMokattamPromise = get(child(dbRef, `branches/El Mokattam/MarketCommittee/totalPoint`));
        var feedingMokattamPromise = get(child(dbRef, `branches/El Mokattam/feeding/totalPoint`));
        var reconstructionMokattamPromise = get(child(dbRef, `branches/El Mokattam/reconstruction/totalPoint`));
        var teamMokattamPromise = get(child(dbRef, `branches/El Mokattam/team/totalPoint`));
        
        var exhibitionsnaserPromise = get(child(dbRef, `branches/naser city/Exhibitions/totalPoint`));
        var MarketnaserPromise = get(child(dbRef, `branches/naser city/MarketCommittee/totalPoint`));
        var feedingnaserPromise = get(child(dbRef, `branches/naser city/feeding/totalPoint`));
        var reconstructionnaserPromise = get(child(dbRef, `branches/naser city/reconstruction/totalPoint`));
        var teamnaserPromise = get(child(dbRef, `branches/naser city/team/totalPoint`));
        
        var exhibitionscairoPromise = get(child(dbRef, `branches/new cairo/Exhibitions/totalPoint`));
        var MarketcairoPromise = get(child(dbRef, `branches/new cairo/MarketCommittee/totalPoint`));
        var feedingcairoPromise = get(child(dbRef, `branches/new cairo/feeding/totalPoint`));
        var reconstructioncairoPromise = get(child(dbRef, `branches/new cairo/reconstruction/totalPoint`));
        var teamcairoPromise = get(child(dbRef, `branches/new cairo/team/totalPoint`));

        var exhibitionsOctoberPromise = get(child(dbRef, `branches/October/Exhibitions/totalPoint`));
        var MarketOctoberPromise = get(child(dbRef, `branches/October/MarketCommittee/totalPoint`));
        var feedingOctoberPromise = get(child(dbRef, `branches/October/feeding/totalPoint`));
        var reconstructionOctoberPromise = get(child(dbRef, `branches/October/reconstruction/totalPoint`));
        var teamOctoberPromise = get(child(dbRef, `branches/October/team/totalPoint`));
        

        Promise.all([
            exhibitionsmaadiPromise,MarketmaadiPromise,feedingmaadiPromise,reconstructionmaadiPromise, teammaadiPromise,
            exhibitionsMohandessinPromise,MarketMohandessinPromise,feedingMohandessinPromise,reconstructionMohandessinPromise, teamMohandessinPromise,
            exhibitionsalexPromise,MarketalexPromise,feedingalexPromise,reconstructionalexPromise, teamalexPromise,
            exhibitionsFaisalPromise,MarketFaisalPromise, feedingFaisalPromise,reconstructionFaisalPromise, teamFaisalPromise,
            exhibitionsHelwanPromise,MarketHelwanPromise,feedingHelwanPromise,reconstructionHelwanPromise, teamHelwanPromise,
            exhibitionsMokattamPromise,MarketMokattamPromise,feedingMokattamPromise,reconstructionMokattamPromise, teamMokattamPromise,
            exhibitionsnaserPromise,MarketnaserPromise,feedingnaserPromise,reconstructionnaserPromise, teamnaserPromise,
            exhibitionscairoPromise,MarketcairoPromise,feedingcairoPromise,reconstructioncairoPromise, teamcairoPromise,
            exhibitionsOctoberPromise,MarketOctoberPromise, feedingOctoberPromise,reconstructionOctoberPromise, teamOctoberPromise])
            .then((snapshots) => {
                var exhibitionsmaadiPromise = snapshots[0].exists() ? snapshots[0].val() : 0;
                var MarketmaadiPromise = snapshots[1].exists() ? snapshots[1].val() : 0;
                var feedingmaadiPromise = snapshots[2].exists() ? snapshots[2].val() : 0;
                var reconstructionmaadiPromise = snapshots[3].exists() ? snapshots[3].val() : 0;
                var teammaadiPromise = snapshots[4].exists() ? snapshots[4].val() : 0;
                
                var exhibitionsMohandessinPromise = snapshots[5].exists() ? snapshots[5].val() : 0;
                var MarketMohandessinPromise = snapshots[6].exists() ? snapshots[6].val() : 0;
                var feedingMohandessinPromise = snapshots[7].exists() ? snapshots[7].val() : 0;
                var reconstructionMohandessinPromise = snapshots[8].exists() ? snapshots[8].val() : 0;
                var teamMohandessinPromise = snapshots[9].exists() ? snapshots[9].val() : 0;
                
                var exhibitionsalexPromise = snapshots[10].exists() ? snapshots[10].val() : 0;
                var MarketalexPromise = snapshots[11].exists() ? snapshots[11].val() : 0;
                var feedingalexPromise = snapshots[12].exists() ? snapshots[12].val() : 0;
                var reconstructionalexPromise = snapshots[13].exists() ? snapshots[13].val() : 0;
                var teamalexPromise = snapshots[14].exists() ? snapshots[14].val() : 0;
                
                var exhibitionsFaisalPromise = snapshots[15].exists() ? snapshots[15].val() : 0;
                var MarketFaisalPromise = snapshots[16].exists() ? snapshots[16].val() : 0;
                var feedingFaisalPromise = snapshots[17].exists() ? snapshots[17].val() : 0;
                var reconstructionFaisalPromise = snapshots[18].exists() ? snapshots[18].val() : 0;
                var teamFaisalPromise = snapshots[19].exists() ? snapshots[19].val() : 0;
                

                var exhibitionsHelwanPromise = snapshots[20].exists() ? snapshots[20].val() : 0;
                var MarketHelwanPromise = snapshots[21].exists() ? snapshots[21].val() : 0;
                var feedingHelwanPromise = snapshots[22].exists() ? snapshots[22].val() : 0;
                var reconstructionHelwanPromise = snapshots[23].exists() ? snapshots[23].val() : 0;
                var teamHelwanPromise = snapshots[24].exists() ? snapshots[24].val() : 0;
                

                var exhibitionsMokattamPromise = snapshots[25].exists() ? snapshots[25].val() : 0;
                var MarketMokattamPromise = snapshots[26].exists() ? snapshots[26].val() : 0;
                var feedingMokattamPromise = snapshots[27].exists() ? snapshots[27].val() : 0;
                var reconstructionMokattamPromise = snapshots[28].exists() ? snapshots[28].val() : 0;
                var teamMokattamPromise = snapshots[29].exists() ? snapshots[29].val() : 0;
                

                var exhibitionsnaserPromise = snapshots[30].exists() ? snapshots[30].val() : 0;
                var MarketnaserPromise = snapshots[31].exists() ? snapshots[31].val() : 0;
                var feedingnaserPromise = snapshots[32].exists() ? snapshots[32].val() : 0;
                var reconstructionnaserPromise = snapshots[33].exists() ? snapshots[33].val() : 0;
                var teamnaserPromise = snapshots[34].exists() ? snapshots[34].val() : 0;
                
                var exhibitionscairoPromise = snapshots[35].exists() ? snapshots[35].val() : 0;
                var MarketcairoPromise = snapshots[36].exists() ? snapshots[36].val() : 0;
                var feedingcairoPromise = snapshots[37].exists() ? snapshots[37].val() : 0;
                var reconstructioncairoPromise = snapshots[38].exists() ? snapshots[38].val() : 0;
                var teamcairoPromise = snapshots[39].exists() ? snapshots[39].val() : 0;
                

                var exhibitionsOctoberPromise = snapshots[40].exists() ? snapshots[40].val() : 0;
                var MarketOctoberPromise = snapshots[41].exists() ? snapshots[41].val() : 0;
                var feedingOctoberPromise = snapshots[42].exists() ? snapshots[42].val() : 0;
                var reconstructionOctoberPromise = snapshots[43].exists() ? snapshots[43].val() : 0;
                var teamOctoberPromise = snapshots[44].exists() ? snapshots[44].val() : 0;
                


                var totalMaad = ( exhibitionsmaadiPromise + feedingmaadiPromise + MarketmaadiPromise + teammaadiPromise + reconstructionmaadiPromise);
                var totalMohand = (exhibitionsMohandessinPromise + feedingMohandessinPromise + MarketMohandessinPromise + teamMohandessinPromise + reconstructionMohandessinPromise );
                var totalalx =    (exhibitionsalexPromise + feedingalexPromise + MarketalexPromise + teamalexPromise + reconstructionalexPromise);
                var totalFais =   (exhibitionsFaisalPromise + feedingFaisalPromise + MarketFaisalPromise + teamFaisalPromise + reconstructionFaisalPromise );
                var totalHelw =   (exhibitionsHelwanPromise + feedingHelwanPromise +MarketHelwanPromise + teamHelwanPromise + reconstructionHelwanPromise );
                var totalMokat =  (exhibitionsMokattamPromise + feedingMokattamPromise + MarketMokattamPromise + teamMokattamPromise + reconstructionMokattamPromise );
                var totalnaser =  (exhibitionsnaserPromise + feedingnaserPromise+ MarketnaserPromise + teamnaserPromise + reconstructionnaserPromise );
                var totalcairo =  (exhibitionscairoPromise + feedingcairoPromise+ MarketcairoPromise + teamcairoPromise + reconstructioncairoPromise );
                var totaloct =    (exhibitionsOctoberPromise + feedingOctoberPromise + MarketOctoberPromise + teamOctoberPromise + reconstructionOctoberPromise);
                var totalexhibitions=exhibitionsmaadiPromise+exhibitionsMohandessinPromise +exhibitionsalexPromise +exhibitionsFaisalPromise +exhibitionsHelwanPromise +exhibitionsMokattamPromise+exhibitionsnaserPromise + exhibitionscairoPromise + exhibitionsOctoberPromise ;
                var totalfeeding=feedingFaisalPromise+feedingHelwanPromise+feedingMohandessinPromise+feedingMokattamPromise+feedingOctoberPromise+feedingalexPromise+feedingcairoPromise+feedingmaadiPromise+feedingFaisalPromise+feedingnaserPromise;
                var totalMarket=MarketFaisalPromise+MarketHelwanPromise+MarketMohandessinPromise+MarketMokattamPromise+MarketOctoberPromise+MarketalexPromise+MarketcairoPromise+MarketmaadiPromise+MarketnaserPromise;
                var totalTeam = teamFaisalPromise+teamHelwanPromise+teamMohandessinPromise+teamMokattamPromise+teamOctoberPromise+teamalexPromise+teamcairoPromise+teammaadiPromise+teamnaserPromise;
                var totalreconstruction=reconstructionFaisalPromise+reconstructionHelwanPromise+reconstructionMohandessinPromise+reconstructionMokattamPromise+reconstructionOctoberPromise+reconstructionalexPromise+reconstructioncairoPromise+reconstructionmaadiPromise+reconstructionnaserPromise;

                console.log("total Month 12: " + totalFaisal)
                // Update HTML elements
                document.getElementById("total").textContent = totalFais+totalHelw+totalMaad+totalMohand+totalMokat+totalalx+totalcairo+totalnaser+totaloct;
                document.getElementById("exh").textContent=+totalexhibitions+" "+"نقط لجان المعارض";
                document.getElementById("feeding").textContent=totalfeeding+" "+"نقط لجان الاطعام";
                document.getElementById("rec").textContent=totalreconstruction+" "+"نقط لجان الاعمار";
                document.getElementById("team").textContent=totalTeam+" "+"نقط لجان الفرق";
                document.getElementById("market").textContent=totalMarket+" "+"نقط لجان السوق الخيري";
                
                drawBasic(totalMaad, totalMohand, totalalx, totalFais, totalHelw, totalMokat, totalnaser, totalcairo, totaloct);
                drawBasic2(totalexhibitions,totalfeeding,totalMarket,totalTeam,totalreconstruction);
                // Do further processing with the finalTotal value
            })
            .catch((error) => {
                console.error(error);
            });

}  
    
        function drawBasic(totalMaad, totalMohand, totalalx, totalFais, totalHelw, totalMokat, totalnaser, totalcairo, totaloct) {

            var data = google.visualization.arrayToDataTable([
                ['Branch', ' total Point',],
                ['المعادى', totalMaad],
                ['الاسكندرية', totalalx],
                ['أكتوبر', totaloct],
                ['مدينة نصر', totalnaser],
                ['مصر الجديدة', totalcairo],
                ['المقطم', totalMokat],
                ['حلوان', totalHelw],
                ['فيصل', totalFais],
                ['المهندسين', totalMohand],
            ]);

            var options = {
                title: 'ترتيب اللجان التنفيذية في الفروع للاربع شهور',
                // chartArea: { width: '50%' },
                hAxis: {
                    title: 'Total Point',
                    minValue: 0
                },
                vAxis: {
                    title: 'الفروع'
                }
            };

            var chart = new google.visualization.BarChart(document.getElementById('chart_div'));

            chart.draw(data, options);
        }
        function drawBasic2(totalexhibitions,totalfeeding,totalMarket,totalTeam,totalreconstruction) {

            var data = google.visualization.arrayToDataTable([
                ['Branch', ' total Point',],
                ['المعارض و الحفلات', totalexhibitions],
                ['الاطعام', totalfeeding],
                ['السوق الخيري', totalMarket],
                ['الفرق', totalTeam],
                ['الاعمار', totalreconstruction],
            ]);

            var options = {
                title: 'ترتيب اللجان التنفيذية علي مستوي الفروع',
                // chartArea: { width: '50%' },
                hAxis: {
                    title: 'Total Point',
                    minValue: 0
                },
                vAxis: {
                    title: 'اللجان'
                }
            };

            var chart = new google.visualization.BarChart(document.getElementById('chart_div2'));

            chart.draw(data, options);
        }
document.getElementById("souq").addEventListener('click', function (e) {
        localStorage.setItem("committee", "MarketCommittee");
        window.location.href = "../committees/homePage.html";
    });
    document.getElementById("exheb").addEventListener('click', function (e) {
        localStorage.setItem("committee", "Exhibitions");
        window.location.href = "../committees/homePage.html";
    });
    document.getElementById("feed").addEventListener('click', function (e) {
        localStorage.setItem("committee", "feeding");
        window.location.href = "../committees/homePage.html";
    });
    document.getElementById("feraq").addEventListener('click', function (e) {
        localStorage.setItem("committee", "team");
        window.location.href = "../committees/homePage.html";
    });
    document.getElementById("e3mar").addEventListener('click', function (e) {
        localStorage.setItem("committee", "reconstruction");
        window.location.href = "../committees/homePage.html";
    });
</script>

</html>